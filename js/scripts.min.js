"use strict";window.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".form__phone").forEach((function(e){var n;function a(e){e.keyCode&&(n=e.keyCode),this.selectionStart<3&&8!==e.keyCode&&46!==e.keyCode&&e.preventDefault();var a=" 8 (___) ___ __ __",t=0,i=(a.replace(/\D/g,""),this.value.replace(/\D/g,"")),o=a.replace(/[_\d]/g,(function(e){return t<i.length?i.charAt(t++):e}));-1!=(t=o.indexOf("_"))&&(t<5&&(t=3),o=o.slice(0,t));var s=a.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(s=new RegExp("^"+s+"$")).test(this.value)||this.value.length<5||n>47&&n<58)&&(this.value=o),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",a,!1),e.addEventListener("focus",a,!1),e.addEventListener("blur",a,!1),e.addEventListener("keydown",a,!1),e.addEventListener("keydown",(function(e){0==this.selectionStart&&this.selectionEnd==this.value.length&&(this.value="")}),!1),e.addEventListener("input",(function(e){""===this.value&&(this.value="8 ")}),!1)}))})),ymaps.ready((function(){var e=new ymaps.Map("map",{center:[59.938699,30.319347],zoom:17,controls:[]});e.behaviors.disable("scrollZoom"),e.controls.add("zoomControl",{position:{top:10,left:10}}),parseInt(window.innerWidth)<1440?e.setCenter([59.938631,30.323037]):e.setCenter([59.938699,30.319347]),e.events.add("sizechange",(function(){parseInt(window.innerWidth)<1440?e.setCenter([59.938631,30.323037]):e.setCenter([59.938699,30.319347])}));var n=new ymaps.Placemark([59.938631,30.323037],{},{iconLayout:"default#image",iconImageHref:"/img/map-pin-2x.png",iconImageSize:[105,90],iconImageOffset:[-49,-78]});e.geoObjects.add(n)}));var buttonMenu=document.querySelector(".main-navigation__toggle"),mainNav=document.querySelector(".main-navigation");mainNav.classList.remove("main-navigation--nojs"),window.matchMedia("(min-width: 768px)").matches&&mainNav.classList.contains("main-navigation--closed")&&(mainNav.classList.remove("main-navigation--closed"),mainNav.classList.add("main-navigation--opened")),buttonMenu.addEventListener("click",(function(){mainNav.classList.contains("main-navigation--closed")?(mainNav.classList.remove("main-navigation--closed"),mainNav.classList.add("main-navigation--opened")):(mainNav.classList.remove("main-navigation--opened"),mainNav.classList.add("main-navigation--closed"))})),window.addEventListener("resize",(function(){window.matchMedia("(min-width: 768px)").matches&&mainNav.classList.contains("main-navigation--closed")&&(mainNav.classList.remove("main-navigation--closed"),mainNav.classList.add("main-navigation--opened"))}));var range=document.getElementById("before-after"),before=document.querySelector(".example__before"),after=document.querySelector(".example__after"),beforeWrapper=document.querySelector(".example__before-wrapper"),pageWidth=document.documentElement.scrollWidthWidth,max=100;function blockHide(){window.matchMedia("(min-width: 768px)").matches&&window.matchMedia("(max-width: 1439px)").matches?before.style.width=max-range.value+"vw":before.style.width=max-range.value+"%"}function widthCheck(){window.matchMedia("(max-width: 1439px)").matches?before.style.width=max-range.value+"vw":before.style.width=max-range.value+"%"}range.addEventListener("input",blockHide),window.addEventListener("resize",widthCheck);